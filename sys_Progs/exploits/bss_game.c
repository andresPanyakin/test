#include <stdlib.h>
#include <stdio.h>
#include <string.h>
#include <time.h>

int game( int );
int jackport( void );

static char buffer[20];
static int(*func_ptr)(int user_pick);

int main( int argc, char* argv[] )
{

	if( argc < 2)
	{
		printf("Usage: %s <a number 1 - 20>\n", argv[0]);
		printf("Use %s help or %s -h  for more help\n", argv[0], argv[0]);
		exit(0);
	}

	srand(time(NULL));

	func_ptr = game;

	printf("--DEBUG---\n");
	printf("[before strcpy] funct_ptr @ %p: %p\n", &func_ptr, func_ptr);
	strcpy( buffer, argv[1]);

	printf("[*] buffer @ %p: %s\n", buffer, buffer);
	printf("[after strcpy] funct_ptr @ %p: %p\n", &func_ptr, func_ptr);

	func_ptr( atoi( buffer) );

}

int game( int a )
{
	printf("In game");
	return 0;
}

int jackport( void )
{
	printf("Taк сказать, джекпот!");
	return 0;
}
